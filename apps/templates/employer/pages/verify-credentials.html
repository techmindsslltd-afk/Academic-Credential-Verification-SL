{% extends "layouts/base.html" %}

{% block title %}Verify Credentials - CertChain{% endblock %}

{% block content %}
{% include 'employer/verify-credentials.html' %}
{% endblock %}

{% block extra_js %}
{% autoescape off %}
<script src="https://cdn.jsdelivr.net/npm/qr-scanner@1.4.2/qr-scanner.umd.min.js"></script>
<script>
(function() {
  'use strict';
  
  // Tab switching
  const verifyTabs = document.querySelectorAll('.verify-tab');
  const verifyPanels = document.querySelectorAll('.verify-panel');
  
  verifyTabs.forEach(tab => {
    tab.addEventListener('click', () => {
      const targetTab = tab.getAttribute('data-tab');
      
      // Update tabs
      verifyTabs.forEach(t => t.classList.remove('active'));
      tab.classList.add('active');
      
      // Update panels
      verifyPanels.forEach(p => p.classList.remove('active'));
      document.getElementById(`panel-${targetTab}`).classList.add('active');
    });
  });
  
  // Get CSRF token
  function getCSRFToken() {
    const token = document.querySelector('[name=csrfmiddlewaretoken]')?.value;
    if (token) return token;
    const cookies = document.cookie.split(';');
    for (let cookie of cookies) {
      const [name, value] = cookie.trim().split('=');
      if (name === 'csrftoken') return value;
    }
    return null;
  }
  
  // Verify credential by ID
  const credentialInput = document.getElementById('employer-credential-input');
  const verifyBtn = document.getElementById('employer-verify-btn');
  const verifyResult = document.getElementById('employer-verify-result');
  
  async function verifyCredential(credentialId, blockchainHash = null) {
    // Clean and validate inputs
    if (credentialId) {
      credentialId = String(credentialId).trim();
    }
    if (blockchainHash) {
      blockchainHash = String(blockchainHash).trim();
    }
    
    if (!credentialId && !blockchainHash) {
      if (typeof Swal !== 'undefined') {
        Swal.fire({
          icon: 'error',
          title: 'Error',
          text: 'Please enter a credential ID or blockchain hash'
        });
      }
      return;
    }
    
    // Show loading
    if (typeof Swal !== 'undefined') {
      Swal.fire({
        title: 'Verifying...',
        text: 'Please wait while we verify the credential',
        allowOutsideClick: false,
        allowEscapeKey: false,
        didOpen: () => {
          Swal.showLoading();
        }
      });
    }
    
    try {
      const csrftoken = getCSRFToken();
      const headers = {
        'Content-Type': 'application/json',
      };
      if (csrftoken) {
        headers['X-CSRFToken'] = csrftoken;
      }
      
      // Prepare request body - only include non-empty values
      const requestBody = {};
      if (credentialId) {
        requestBody.credential_id = credentialId;
      }
      if (blockchainHash) {
        requestBody.blockchain_hash = blockchainHash;
      }
      
      console.log('Verifying credential:', requestBody); // Debug log
      
      const response = await fetch('/credentials/verify/', {
        method: 'POST',
        headers: headers,
        credentials: 'include',
        body: JSON.stringify(requestBody)
      });
      
      let data;
      try {
        data = await response.json();
      } catch (e) {
        console.error('Failed to parse JSON response:', e);
        throw new Error('Invalid response from server');
      }
      
      console.log('Verification response:', data); // Debug log
      
      if (typeof Swal !== 'undefined') {
        Swal.close();
      }
      
      // Handle response - check if credential exists in database
      if (!response.ok) {
        // Check if it's a "not found" error (404)
        if (response.status === 404 && data.status === 'not_found') {
          // Credential does not exist in database
          const activeTab = document.querySelector('.verify-tab.active')?.getAttribute('data-tab');
          let resultContainer;
          if (activeTab === 'credential-id') {
            resultContainer = document.getElementById('employer-verify-result');
          } else if (activeTab === 'blockchain') {
            resultContainer = document.getElementById('employer-blockchain-verify-result');
          } else if (activeTab === 'qr-code') {
            resultContainer = document.getElementById('employer-qr-verify-result');
          } else {
            resultContainer = verifyResult;
          }
          
          // Display "not found" message
          resultContainer.innerHTML = `
            <div class="verify-result-card verify-not-found">
              <div class="verify-status-header">
                <span class="verify-status-icon">‚ùå</span>
                <div>
                  <h3 class="verify-status-title">Credential Not Found</h3>
                  <p class="verify-status-subtitle">This credential does not exist in our database</p>
                </div>
              </div>
              <div class="verify-details">
                <div class="verify-detail-row">
                  <span class="verify-detail-label">Searched ID:</span>
                  <span class="verify-detail-value">${data.searched_id || data.searched_hash || 'N/A'}</span>
                </div>
                <div class="verify-detail-row">
                  <span class="verify-detail-label">Message:</span>
                  <span class="verify-detail-value">${data.message || data.error || 'Credential not found in the system'}</span>
                </div>
              </div>
            </div>
          `;
          
          // Also show SweetAlert notification
          if (typeof Swal !== 'undefined') {
            Swal.fire({
              icon: 'error',
              title: 'Credential Not Found',
              text: data.message || data.error || 'This credential does not exist in our database',
              confirmButtonText: 'OK'
            });
          }
          return;
        }
        
        // Other errors
        throw new Error(data.detail || data.error || data.message || 'Verification failed');
      }
      
      // Credential exists - display result
      const activeTab = document.querySelector('.verify-tab.active')?.getAttribute('data-tab');
      let resultContainer;
      if (activeTab === 'credential-id') {
        resultContainer = document.getElementById('employer-verify-result');
      } else if (activeTab === 'blockchain') {
        resultContainer = document.getElementById('employer-blockchain-verify-result');
      } else if (activeTab === 'qr-code') {
        resultContainer = document.getElementById('employer-qr-verify-result');
      } else {
        resultContainer = verifyResult;
      }
      
      // Display result from database
      displayVerificationResult(data, resultContainer);
      
    } catch (error) {
      if (typeof Swal !== 'undefined') {
        Swal.close();
        Swal.fire({
          icon: 'error',
          title: 'Verification Failed',
          text: error.message || 'An error occurred while verifying the credential'
        });
      } else {
        verifyResult.innerHTML = `<div class="verify-error">Error: ${error.message}</div>`;
      }
    }
  }
  
  // Display verification result from database
  function displayVerificationResult(data, resultContainer) {
    // Clear any previous results
    resultContainer.innerHTML = '';
    
    // Check if credential data exists
    if (!data || !data.credential) {
      resultContainer.innerHTML = `
        <div class="verify-error">
          <strong>Error:</strong> No credential data received from the server.
        </div>
      `;
      return;
    }
    
    const isValid = data.valid;
    const status = data.status;
    const credential = data.credential || {};
    const institution = data.institution || {};
    const revocation = data.revocation || {};
    
    // Determine status styling
    let statusClass = 'verify-invalid';
    let statusIcon = '‚ùå';
    let statusText = 'Invalid';
    let statusColor = '#ef4444';
    
    if (isValid && status === 'issued') {
      statusClass = 'verify-valid';
      statusIcon = '‚úÖ';
      statusText = 'Valid';
      statusColor = '#10b981';
    } else if (status === 'revoked') {
      statusClass = 'verify-revoked';
      statusIcon = 'üö´';
      statusText = 'Revoked';
      statusColor = '#f59e0b';
    } else if (status === 'expired') {
      statusClass = 'verify-expired';
      statusIcon = '‚è∞';
      statusText = 'Expired';
      statusColor = '#6b7280';
    } else if (status === 'pending') {
      statusClass = 'verify-pending';
      statusIcon = '‚è≥';
      statusText = 'Pending';
      statusColor = '#3b82f6';
    }
    
    // Format dates
    function formatDate(dateString) {
      if (!dateString) return 'N/A';
      try {
        const date = new Date(dateString);
        return date.toLocaleDateString('en-US', { 
          year: 'numeric', 
          month: 'long', 
          day: 'numeric' 
        });
      } catch (e) {
        return dateString;
      }
    }
    
    // Build the result HTML with all database fields
    const resultHTML = `
      <div class="verify-result-card ${statusClass}">
        <div class="verify-status-header">
          <span class="verify-status-icon">${statusIcon}</span>
          <div>
            <h3 class="verify-status-title">${statusText}</h3>
            <p class="verify-status-subtitle">Credential Status: <strong>${status ? status.toUpperCase() : 'UNKNOWN'}</strong></p>
          </div>
        </div>
        
        <div class="verify-details">
          <!-- Credential Information -->
          <div class="verify-section">
            <h4 class="verify-section-title">Credential Information</h4>
            <div class="verify-detail-row">
              <span class="verify-detail-label">Credential ID:</span>
              <span class="verify-detail-value"><strong>${credential.credential_id || 'N/A'}</strong></span>
            </div>
            ${credential.credential_type ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Credential Type:</span>
              <span class="verify-detail-value">${credential.credential_type}</span>
            </div>
            ` : ''}
          </div>
          
          <!-- Holder Information -->
          ${credential.holder_name ? `
          <div class="verify-section">
            <h4 class="verify-section-title">Holder Information</h4>
            <div class="verify-detail-row">
              <span class="verify-detail-label">Holder Name:</span>
              <span class="verify-detail-value"><strong>${credential.holder_name}</strong></span>
            </div>
            ${credential.holder_student_id ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Student ID:</span>
              <span class="verify-detail-value">${credential.holder_student_id}</span>
            </div>
            ` : ''}
            ${credential.holder_date_of_birth ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Date of Birth:</span>
              <span class="verify-detail-value">${formatDate(credential.holder_date_of_birth)}</span>
            </div>
            ` : ''}
          </div>
          ` : ''}
          
          <!-- Institution Information -->
          ${institution.name || credential.institution ? `
          <div class="verify-section">
            <h4 class="verify-section-title">Institution Information</h4>
            <div class="verify-detail-row">
              <span class="verify-detail-label">Institution Name:</span>
              <span class="verify-detail-value"><strong>${institution.name || credential.institution || 'N/A'}</strong></span>
            </div>
            ${institution.country ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Country:</span>
              <span class="verify-detail-value">${institution.country}</span>
            </div>
            ` : ''}
            ${institution.accreditation_status ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Accreditation Status:</span>
              <span class="verify-detail-value">${institution.accreditation_status}</span>
            </div>
            ` : ''}
            ${institution.is_verified !== undefined ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Verified Institution:</span>
              <span class="verify-detail-value">${institution.is_verified ? '‚úÖ Yes' : '‚ùå No'}</span>
            </div>
            ` : ''}
            ${institution.is_partner !== undefined ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Partner Institution:</span>
              <span class="verify-detail-value">${institution.is_partner ? '‚úÖ Yes' : '‚ùå No'}</span>
            </div>
            ` : ''}
          </div>
          ` : ''}
          
          <!-- Academic Information -->
          ${credential.program_name || credential.degree_level || credential.grade ? `
          <div class="verify-section">
            <h4 class="verify-section-title">Academic Information</h4>
            ${credential.program_name ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Program Name:</span>
              <span class="verify-detail-value"><strong>${credential.program_name}</strong></span>
            </div>
            ` : ''}
            ${credential.degree_level ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Degree Level:</span>
              <span class="verify-detail-value">${credential.degree_level}</span>
            </div>
            ` : ''}
            ${credential.major ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Major:</span>
              <span class="verify-detail-value">${credential.major}</span>
            </div>
            ` : ''}
            ${credential.minor ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Minor:</span>
              <span class="verify-detail-value">${credential.minor}</span>
            </div>
            ` : ''}
            ${credential.specialization ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Specialization:</span>
              <span class="verify-detail-value">${credential.specialization}</span>
            </div>
            ` : ''}
            ${credential.grade ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Grade/GPA:</span>
              <span class="verify-detail-value"><strong>${credential.grade}</strong></span>
            </div>
            ` : ''}
            ${credential.honors ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Honors:</span>
              <span class="verify-detail-value">${credential.honors}</span>
            </div>
            ` : ''}
            ${credential.credits_earned ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Credits Earned:</span>
              <span class="verify-detail-value">${credential.credits_earned}</span>
            </div>
            ` : ''}
          </div>
          ` : ''}
          
          <!-- Dates -->
          ${credential.enrollment_date || credential.completion_date || credential.issue_date || credential.expiry_date ? `
          <div class="verify-section">
            <h4 class="verify-section-title">Important Dates</h4>
            ${credential.enrollment_date ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Enrollment Date:</span>
              <span class="verify-detail-value">${formatDate(credential.enrollment_date)}</span>
            </div>
            ` : ''}
            ${credential.completion_date ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Completion Date:</span>
              <span class="verify-detail-value"><strong>${formatDate(credential.completion_date)}</strong></span>
            </div>
            ` : ''}
            ${credential.issue_date ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Issue Date:</span>
              <span class="verify-detail-value"><strong>${formatDate(credential.issue_date)}</strong></span>
            </div>
            ` : ''}
            ${credential.expiry_date ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Expiry Date:</span>
              <span class="verify-detail-value">${formatDate(credential.expiry_date)}</span>
            </div>
            ` : ''}
          </div>
          ` : ''}
          
          <!-- Blockchain Information -->
          ${credential.blockchain_hash || credential.block_number || credential.blockchain_tx_id ? `
          <div class="verify-section">
            <h4 class="verify-section-title">Blockchain Verification</h4>
            ${credential.blockchain_hash ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Blockchain Hash:</span>
              <span class="verify-detail-value verify-hash" title="${credential.blockchain_hash}">${credential.blockchain_hash}</span>
            </div>
            ` : ''}
            ${credential.blockchain_tx_id ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Transaction ID:</span>
              <span class="verify-detail-value verify-hash">${credential.blockchain_tx_id}</span>
            </div>
            ` : ''}
            ${credential.block_number ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Block Number:</span>
              <span class="verify-detail-value">${credential.block_number}</span>
            </div>
            ` : ''}
            ${credential.ipfs_hash ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">IPFS Hash:</span>
              <span class="verify-detail-value verify-hash">${credential.ipfs_hash}</span>
            </div>
            ` : ''}
          </div>
          ` : ''}
          
          <!-- Revocation Information -->
          ${revocation.revoked_at || revocation.reason ? `
          <div class="verify-section verify-revocation-info">
            <h4 class="verify-section-title">Revocation Information</h4>
            ${revocation.revoked_at ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Revoked At:</span>
              <span class="verify-detail-value">${formatDate(revocation.revoked_at)}</span>
            </div>
            ` : ''}
            ${revocation.reason ? `
            <div class="verify-detail-row">
              <span class="verify-detail-label">Revocation Reason:</span>
              <span class="verify-detail-value">${revocation.reason}</span>
            </div>
            ` : ''}
          </div>
          ` : ''}
        </div>
      </div>
    `;
    
    resultContainer.innerHTML = resultHTML;
  }
  
  // Credential ID verification - Check if credential exists in database
  if (verifyBtn && credentialInput) {
    verifyBtn.addEventListener('click', async () => {
      const credentialId = credentialInput.value.trim();
      
      // Validate input
      if (!credentialId) {
        if (typeof Swal !== 'undefined') {
          Swal.fire({
            icon: 'warning',
            title: 'Input Required',
            text: 'Please enter a credential ID to verify'
          });
        } else {
          verifyResult.innerHTML = '<div class="verify-error">Please enter a credential ID</div>';
        }
        return;
      }
      
      // Validate format (optional - basic check)
      if (!credentialId.match(/^[A-Z0-9-]+$/i)) {
        if (typeof Swal !== 'undefined') {
          Swal.fire({
            icon: 'warning',
            title: 'Invalid Format',
            text: 'Credential ID should contain only letters, numbers, and hyphens'
          });
        } else {
          verifyResult.innerHTML = '<div class="verify-error">Invalid credential ID format</div>';
        }
        return;
      }
      
      // Clear previous results
      verifyResult.innerHTML = '';
      
      // Verify credential exists in database
      await verifyCredential(credentialId);
    });
    
    credentialInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        e.preventDefault();
        verifyBtn.click();
      }
    });
  }
  
  // Blockchain hash verification
  const blockchainInput = document.getElementById('employer-blockchain-input');
  const blockchainVerifyBtn = document.getElementById('employer-blockchain-verify-btn');
  const blockchainVerifyResult = document.getElementById('employer-blockchain-verify-result');
  
  if (blockchainVerifyBtn && blockchainInput) {
    blockchainVerifyBtn.addEventListener('click', () => {
      const hash = blockchainInput.value.trim();
      if (hash) {
        verifyCredential(null, hash);
      }
    });
    
    blockchainInput.addEventListener('keypress', (e) => {
      if (e.key === 'Enter') {
        blockchainVerifyBtn.click();
      }
    });
  }
  
  // QR Code upload and scanning
  const qrUploadBtn = document.getElementById('qr-upload-btn');
  const qrFileInput = document.getElementById('qr-file-input');
  const qrUploadPlaceholder = document.getElementById('qr-upload-placeholder');
  const qrPreview = document.getElementById('qr-preview');
  const qrPreviewImg = document.getElementById('qr-preview-img');
  const qrRemoveBtn = document.getElementById('qr-remove-btn');
  const qrVerifyResult = document.getElementById('employer-qr-verify-result');
  
  if (qrUploadBtn && qrFileInput) {
    qrUploadBtn.addEventListener('click', () => {
      qrFileInput.click();
    });
    
    qrFileInput.addEventListener('change', async (e) => {
      const file = e.target.files[0];
      if (!file) return;
      
      // Show preview
      const reader = new FileReader();
      reader.onload = async (event) => {
        qrPreviewImg.src = event.target.result;
        qrUploadPlaceholder.style.display = 'none';
        qrPreview.style.display = 'block';
        
        // Try to scan QR code
        try {
          if (typeof QrScanner !== 'undefined') {
            const result = await QrScanner.scanImage(file);
            if (result) {
              // Extract credential ID from QR code (assuming it contains verification URL)
              let credentialId = null;
              
              // Try to match verification URL pattern
              const urlMatch = result.match(/\/credentials\/verify\/([A-Z0-9-]+)/);
              if (urlMatch) {
                credentialId = urlMatch[1];
              } else {
                // Try to match credential ID pattern directly
                const idMatch = result.match(/(CERT-[A-Z0-9-]+)/);
                if (idMatch) {
                  credentialId = idMatch[1];
                } else {
                  // Use the entire result as credential ID if it looks like one
                  if (result.match(/^CERT-/)) {
                    credentialId = result;
                  }
                }
              }
              
              if (credentialId) {
                // Verify the credential
                await verifyCredential(credentialId);
              } else {
                throw new Error('Could not extract credential ID from QR code');
              }
            }
          } else {
            // Fallback: try to extract from image URL or use a simple approach
            // For now, show a message to enter manually
            if (typeof Swal !== 'undefined') {
              Swal.fire({
                icon: 'info',
                title: 'QR Code Detected',
                text: 'Please enter the credential ID manually or use the Credential ID tab',
                input: 'text',
                inputPlaceholder: 'Enter Credential ID',
                showCancelButton: true,
                confirmButtonText: 'Verify',
                preConfirm: (credentialId) => {
                  if (!credentialId) {
                    Swal.showValidationMessage('Please enter a credential ID');
                  }
                  return credentialId;
                }
              }).then((result) => {
                if (result.isConfirmed && result.value) {
                  verifyCredential(result.value);
                }
              });
            }
          }
        } catch (error) {
          console.error('QR scan error:', error);
          if (typeof Swal !== 'undefined') {
            Swal.fire({
              icon: 'warning',
              title: 'QR Code Scan Failed',
              text: 'Could not read QR code. Please try uploading a clearer image or enter the credential ID manually.',
              confirmButtonText: 'Enter Manually',
              showCancelButton: true
            }).then((result) => {
              if (result.isConfirmed) {
                // Switch to credential ID tab
                document.querySelector('[data-tab="credential-id"]').click();
              }
            });
          }
        }
      };
      reader.readAsDataURL(file);
    });
  }
  
  if (qrRemoveBtn) {
    qrRemoveBtn.addEventListener('click', () => {
      qrFileInput.value = '';
      qrUploadPlaceholder.style.display = 'block';
      qrPreview.style.display = 'none';
      qrVerifyResult.innerHTML = '';
    });
  }
  
})();
</script>
<style>
.verify-result {
  margin-top: 1.5rem;
}

.verify-result-card {
  background: white;
  border-radius: 12px;
  padding: 1.5rem;
  box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  border-left: 4px solid #e5e7eb;
}

.verify-result-card.verify-valid {
  border-left-color: #10b981;
}

.verify-result-card.verify-invalid {
  border-left-color: #ef4444;
}

.verify-result-card.verify-revoked {
  border-left-color: #f59e0b;
}

.verify-result-card.verify-expired {
  border-left-color: #6b7280;
}

.verify-result-card.verify-not-found {
  border-left-color: #ef4444;
  background: #fef2f2;
}

.verify-status-header {
  display: flex;
  align-items: center;
  gap: 1rem;
  margin-bottom: 1.5rem;
  padding-bottom: 1rem;
  border-bottom: 1px solid #e5e7eb;
}

.verify-status-icon {
  font-size: 2rem;
}

.verify-status-title {
  font-size: 1.25rem;
  font-weight: 600;
  margin: 0;
  color: #111827;
}

.verify-status-subtitle {
  font-size: 0.875rem;
  color: #6b7280;
  margin: 0.25rem 0 0 0;
}

.verify-details {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.verify-detail-row {
  display: flex;
  justify-content: space-between;
  align-items: flex-start;
  padding: 0.75rem 0;
  border-bottom: 1px solid #f3f4f6;
}

.verify-detail-row:last-child {
  border-bottom: none;
}

.verify-detail-label {
  font-weight: 500;
  color: #6b7280;
  min-width: 140px;
}

.verify-detail-value {
  color: #111827;
  text-align: right;
  word-break: break-word;
}

.verify-hash {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.875rem;
  max-width: 300px;
}

.qr-upload-area {
  border: 2px dashed #d1d5db;
  border-radius: 8px;
  padding: 2rem;
  text-align: center;
  transition: all 0.2s;
}

.qr-upload-area:hover {
  border-color: #4f46e5;
  background: #f9fafb;
}

.qr-upload-placeholder svg {
  color: #9ca3af;
  margin-bottom: 1rem;
}

.qr-upload-placeholder p {
  color: #6b7280;
  margin: 0.5rem 0 1rem 0;
}

.qr-preview {
  text-align: center;
}

.qr-preview img {
  max-width: 100%;
  max-height: 300px;
  border-radius: 8px;
  margin-bottom: 1rem;
}

.verify-error {
  background: #fef2f2;
  color: #991b1b;
  padding: 1rem;
  border-radius: 8px;
  border-left: 4px solid #ef4444;
}

.verify-section {
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 1px solid #e5e7eb;
}

.verify-section:first-child {
  margin-top: 0;
  padding-top: 0;
  border-top: none;
}

.verify-section-title {
  font-size: 1rem;
  font-weight: 600;
  color: #374151;
  margin: 0 0 1rem 0;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  font-size: 0.875rem;
}

.verify-revocation-info {
  background: #fef2f2;
  padding: 1rem;
  border-radius: 8px;
  border-left: 3px solid #f59e0b;
}

.verify-result-card.verify-pending {
  border-left-color: #3b82f6;
}
</style>
{% endautoescape %}
{% endblock %}

