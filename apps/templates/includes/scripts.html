		
	{% load static %}			
		
		 {% include 'session_security/all.html' %}
		<!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
		
		<script src='{% static "assets/plugins/global/plugins.bundle.js"%}'></script>-->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/js/all.min.js" integrity="sha512-6sSYJqDreZRZGkJ3b+YfdhB3MzmuP9R7X1QZ6g5aIXhRvR1Y/N/P47jmnkENm7YL3oqsmI6AK+V6AD99uWDnIw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<!--begin::Global Javascript Bundle(mandatory for all pages)-->
		
		<script src='{% static "assets/js/scripts.bundle.js"%}'></script>
		<!--end::Global Javascript Bundle-->
		<!--begin::Vendors Javascript(used for this page only)-->
		
		
		<script src='{% static "assets/plugins/custom/datatables/datatables.bundle.js"%}'></script>
		<!--end::Vendors Javascript-->
		<!--begin::Custom Javascript(used for this page only)
		<script src='{% static "assets/js/custom/apps/user-management/users/list/table.js"%}'></script> -->
		<!-- <script src='{% static "assets/js/custom/apps/user-management/users/list/export-users.js"%}'></script>
		<script src='{% static "assets/js/custom/apps/user-management/users/list/add.js"%}'></script> -->
		<script src='{% static "assets/js/widgets.bundle.js"%}'></script>
		<script src='{% static "assets/js/custom/widgets.js"%}'></script>
		<script src='{% static "assets/js/custom/apps/chat/chat.js"%}'></script>
		<script src='{% static "assets/js/custom/utilities/modals/upgrade-plan.js"%}'></script>
		<!--<script src='{% static "assets/js/custom/utilities/modals/create-app.js"%}'></script> -->
		<script src='{% static "assets/js/custom/utilities/modals/users-search.js"%}'></script>
		
       
		<script src="{% static 'assets/guest/prettyphoto/js/prettyphoto.js'%}"></script> <!-- PrettyPhoto Plugin --> 
		
		<script src='{% static "assets/js/custom/Cropper.js"%}'></script>
		<script src="{% static 'assets/multi_select/js/jquery.multi-select.js' %}"></script>
		<script src="{% static 'assets/multi_select/js/quicksearch.js' %}"></script>
		  
		  
			{% if 'feeds' in segment %} 
		<script src='{% static "assets/js/custom/pages/social/feeds.js"%}'></script>    

		<script src='{% static "assets/plugins/custom/fslightbox/fslightbox.bundle.js"%}'></script>
		<script src='{% static "assets/plugins/custom/datatables/datatables.bundle.js"%}'></script>  
		  	{% endif %}	
			{% if 'calendar' in segment %} 			
		 <script src='{% static "assets/plugins/custom/fullcalendar/fullcalendar.bundle.js" %}'></script> 
		<script src='{% static "assets/js/custom/apps/calendar/calendar.js"  %}'></script> 
		{% endif %}	
		
			{% if 'create_invoice' in segment %} 
		<script src='{% static "assets/js/custom/apps/invoices/create.js"  %}'></script>
		{% endif %}	
		  <script src="https://cdnjs.cloudflare.com/ajax/libs/lightbox2/2.11.3/js/lightbox.min.js"></script>

		
		<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/bootstrap-table.min.js"></script>
	   <script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.10.21/tableExport.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.10.21/libs/jsPDF/jspdf.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/tableexport.jquery.plugin@1.10.21/libs/jsPDF-AutoTable/jspdf.plugin.autotable.js"></script>
		<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/export/bootstrap-table-export.min.js"></script>
		<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/filter-control/bootstrap-table-filter-control.min.js"></script>
		<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/fixed-columns/bootstrap-table-fixed-columns.min.js"></script>
		<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/print/bootstrap-table-print.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/tablednd@1.0.5/dist/jquery.tablednd.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/jqueryui@1.11.1/jquery-ui.min.js"></script>
		<script src="https://cdn.jsdelivr.net/gh/akottr/dragtable@master/jquery.dragtable.js"></script>
		<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/reorder-rows/bootstrap-table-reorder-rows.min.js"></script>
		<!-- <script src="https://unpkg.com/jquery-resizable-columns@0.2.3/dist/jquery.resizableColumns.min.js"></script>
		<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/resizable/bootstrap-table-resizable.min.js"></script>
		<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/sticky-header/bootstrap-table-sticky-header.min.js"></script> -->
		<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/toolbar/bootstrap-table-toolbar.min.js"></script>
		<script src="https://cdn.jsdelivr.net/npm/jquery-treegrid@0.3.0/js/jquery.treegrid.min.js"></script>
		<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/treegrid/bootstrap-table-treegrid.min.js"></script>
		<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/page-jump-to/bootstrap-table-page-jump-to.min.js"></script>
		<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/multiple-sort/bootstrap-table-multiple-sort.js"></script>
		<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/mobile/bootstrap-table-mobile.min.js"></script>
		<script src="https://unpkg.com/bootstrap-table@1.21.4/dist/extensions/key-events/bootstrap-table-key-events.min.js"></script>
      
		
                <!-- Load Magnific Popup CSS -->
                <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/magnific-popup.min.css">

                <!-- Load Magnific Popup JS -->
                <script src="https://cdnjs.cloudflare.com/ajax/libs/magnific-popup.js/1.1.0/jquery.magnific-popup.min.js"></script>
				
				
		


  	<input style="display:none"type="text" id="courseid"name="courseid"/>	
	<input style="display:none"type="text" id="semester"name="semester"/>	
	<input style="display:none"type="text" id="year"name="year"/>	
	<input style="display:none"type="text"value="{% if  request.user.chat_volume %}ON {% else %} OFF {% endif %}" id="volume_onof"name="volume_onof"/>	
		<script>
	// On document ready
document.addEventListener("DOMContentLoaded", function() {
   // KTCreateApp.init();
    // Get the loader element
	
    // Stop refresh icon spinning after page load
    function stopRefreshSpinning() {
        var refreshIcon = document.querySelector('#mainRefresh');
        if (refreshIcon) {
            refreshIcon.classList.remove('spin');
            // Also remove from parent elements that might have the spin class
            var parentElement = refreshIcon.closest('a');
            if (parentElement) {
                parentElement.classList.remove('spin');
            }
        }
    }
    
    // Stop spinning immediately
    stopRefreshSpinning();
    
    // Also stop spinning after a short delay to ensure page is fully loaded
    setTimeout(stopRefreshSpinning, 1000);
 
    const loaderContainer = document.querySelector('.loader-container');

    // Function to stop the loader
    function stopLoader() {
        // Remove the loader element from the DOM
		if (loaderContainer){
			loaderContainer.remove();
		}
    }

    // Call the stopLoader function to stop the loader
    stopLoader();
	
	
    });
	


// In your Javascript (external .js resource or <script> tag)
    $(document).ready(function() {
    
	
	  $('#mySelect2').select2({
        dropdownParent: $('#myModal')
    });
	
        $(".select2_demo_3").select2();   
	
	$(".select2_combo").select2({
		placeholder: "Select a State",
		allowClear: true
	});
		$(".publication_type").select2({
		placeholder: "Select a publication type",
		allowClear: true
	});
    $(".campus").select2({
		placeholder: "Select a Campus",
		allowClear: true
	}); 
	
    $(".applicant_status").select2({
		placeholder: "Select a Status",
		allowClear: true
	}); 
	
    $(".QA").select2({
		placeholder: "Select Academic Qualification",
		allowClear: true
	});
	$(".group").select2({
		placeholder: "Select a user's role",
		allowClear: true
	});
	$(".setcampus").select2({
		placeholder: "Select a Campus",
		allowClear: true
	});
	$(".honsOnly").select2({
		placeholder: "Select a Hon/Gen",
		allowClear: true
	});
	$(".maritalStatus").select2({
		placeholder: "Select Marital Status",
		allowClear: true
	});
	$(".applicantCategory").select2({
		placeholder: "Select Applicant Category",
		allowClear: true
	});
	$(".finalyear").select2({
		placeholder: "Select a final year",
		allowClear: true
	});
    $(".role").select2({
		placeholder: "Select a designation",
		allowClear: true
	});    
	$(".lessontype").select2({
		placeholder: "Select a Type",
		allowClear: true
	});
    $(".scholarship").select2({
		placeholder: "Select Type Scholarship",
		allowClear: true
	});
	$(".faculty").select2({
		placeholder: "Select a Faculty",
		allowClear: true
    });
    $(".department").select2({
		placeholder: "Select a Department",
		allowClear: true
    });
    $(".department2").select2({
		placeholder: "Select a Department",
		allowClear: true
    });
    $(".course").select2({
		placeholder: "Select a Program",
		allowClear: true
	});
    $(".course_option").select2({
		placeholder: "Select a Second Option Program",
		allowClear: true
	});
	$(".module").select2({
		placeholder: "Select a Module",
		allowClear: true
	});
	$(".action").select2({
		placeholder: "Select a action",
		allowClear: true
	});
	$(".year").select2({
		placeholder: "Select Year",
		allowClear: true
	});
	
	$(".year4").select2({
		placeholder: "Select Year",
		allowClear: true
	});	
	$(".year5").select2({
		placeholder: "Select Year",
		allowClear: true
	});
	$(".year2").select2({
		placeholder: "Select Year",
		allowClear: true
	});
	$(".year3").select2({
		placeholder: "Select Year",
		allowClear: true
	});
	$(".lectureRoom").select2({
		placeholder: "Select lecture Room",
		allowClear: true
	});
	$(".level").select2({
		placeholder: "Select Academic Level",
		allowClear: true
	});
	$(".lecturer").select2({
		placeholder: "Select Lecturer",
		allowClear: true
	});
	$(".day").select2({
		placeholder: "Select Day",
		allowClear: true
	});
	
	$(".moduleStatus").select2({
		placeholder: "Select Module Status",
		allowClear: true
	});
    $(".active1").select2({
		placeholder: "Select  Status",
		allowClear: true
	});

    $(".region").select2({
		placeholder: "Select  Region of Origin",
		allowClear: true
    });
    $(".gender").select2({
		placeholder: "Select  Gender",
		allowClear: true
    });
    $(".session").select2({
		placeholder: "Select  Academic Session",
		allowClear: true
	});
    $(".testsession").select2({
		placeholder: "Select  Academic Session",
		allowClear: true
	});    
    $(".uniquesession").select2({
		placeholder: "Select  Academic Session",
		allowClear: true
	});	
	    $(".wowsession").select2({
		placeholder: "Select  Academic Session",
		allowClear: true
	});
	    $(".nansession").select2({
		placeholder: "Select  Academic Session",
		allowClear: true
	});
	    $(".yeahsession").select2({
		placeholder: "Select  Academic Session",
		allowClear: true
	});
	$(".yearfbc").select2({
		placeholder: "Select  Year",
		allowClear: true
	});
	$(".yearcomahs").select2({
		placeholder: "Select  Year",
		allowClear: true
	});
    $(".is_departmental").select2({
		placeholder: "Select Module  Departmental Status",
		allowClear: true
	});  
    $(".prefix").select2({
		placeholder: "Select  Prefix",
		allowClear: true
	});
	$(".designation").select2({
		placeholder: "Select Designation",
		allowClear: true
	});
	$(".semester").select2({
		placeholder: "Select Semester",
		allowClear: true
	});
	$(".classification").select2({
		placeholder: "Select Modele Type",
		allowClear: true
	});
	$(".bank").select2({
		placeholder: "Select Bank",
		allowClear: true
	});
	$(".student").select2({
		placeholder: "Select Student",
		allowClear: true
	});
	 
	$(".unit").select2({
		placeholder: "Select Unit",
		allowClear: true
	});
	 
	$(".staff").select2({
		placeholder: "Select Staff",
		allowClear: true
	});
		$(".period").select2({
		placeholder: "Select Period",
		allowClear: true
	});
		$(".semester").select2({
		placeholder: "Select Semester",
		allowClear: true
	});
	$(".lecturRoom").select2({
		placeholder: "Select Lecture Room",
		allowClear: true
	});
	
	$(".shift").select2({
		placeholder: "Select Shift",
		allowClear: true
	});
	$(".maritalStatus").select2({
		placeholder: "Select a Marital Status",
		allowClear: true
	}); 	
	
	$(".grading").select2({
		placeholder: "Select Grading System",
		allowClear: true
	}); 
	

		
$('#id_campus').change(function(e){
	e.preventDefault();
	
    var nid = $(this).val();
	var $faculty = $("#id_faculty");
	var data = {
           "campus": $(this).val(),
            };
			
		 $.ajax({
		 url: '/ajax_faculty', // if you say $(this) here it will refer to the ajax call not $('.company2')
         type:'GET',
		 data: data,
		 
        success: function (data) {
		 $faculty.empty();
         $("#id_faculty").html(data);
		 $faculty.select2(
            {
		placeholder: "Select Faculty",
		allowClear: true 
		 }
         );
        }
    });	

});
$('.campus2').change(function(e){
	e.preventDefault();
	
    var nid = $(this).val();
	var $bank = $(".bank");
	var data = {
           "campus": $(this).val(),
            };
			
		 $.ajax({
		 url: '/ajax_bank', // if you say $(this) here it will refer to the ajax call not $('.company2')
         type:'GET',
		 data: data,
		 
        success: function (data) {
		 $bank.empty();
         $(".bank").html(data);
		 $bank.select2(
            {
		placeholder: "Select Bank",
		allowClear: true 
		 }
         );
        }
    });	

});


$(".setRole").select2({
	placeholder: "Select Role",
	allowClear: true
});
	
$('.setRole').change(function(e){
	e.preventDefault();
	
    var nid = $(this).val();
	var data = {
           "group": $(this).val(),
            };
			
		 $.ajax({
		 url: '/ajax_setrole', // if you say $(this) here it will refer to the ajax call not $('.company2')
         type:'POST',
		 data: data,
		 
        success: function (data) {
		 location.reload()
        }
    });	

});
$('#id_faculty').change(function(e){
	e.preventDefault();
	
    var nid = $(this).val();
	var $department = $("#id_department");
	var data = {
           "faculty": $(this).val(),
            };
			
		 $.ajax({
		 url: '/ajax_department', // if you say $(this) here it will refer to the ajax call not $('.company2')
         type:'GET',
		 data: data,
		 
        success: function (data) {
		 $department.empty();
         $("#id_department").html(data);
		 $department.select2(
		 {
		placeholder: "Select Department",
		allowClear: true 
		 }
		 );
        }
    });	

});

$('#id_department').change(function(e){
	e.preventDefault();
	
	var $course = $("#id_course");
	var data = {
           "department": $(this).val(),
            };
			
		 $.ajax({
		 url: '/ajax_course', // 
         type:'GET',
		 data: data,
		 
        success: function (data) {
		 $course.empty();
         $("#id_course").html(data);
		 $course.select2(
		 {
		placeholder: "Select Program",
		allowClear: true 
		 } 
		 );
        }
    });	

});
$('#id_course').change(function(e){
	e.preventDefault();
	document.getElementById("courseid").value = $(this).val();
	var $module = $("#id_module");
	var data = {
           "course": $(this).val(),
            };
			
		 $.ajax({
		 url: '/ajax_module', // 
         type:'GET',
		 data: data,
		 
        success: function (data) {
		 $module.empty();
         $("#id_module").html(data);
		 $module.select2(
		 {
		placeholder: "Select Module",
		allowClear: true 
		 }
		 );
        }
    });	

});


$('.semester').change(function(e){
	e.preventDefault();
	document.getElementById("semester").value = $(this).val();

});
$('.year2').change(function(e){
	e.preventDefault();
	var $module = $(".module");
	var data = {
           "year": $(this).val(),
		   "course": course,
            };
			
		 $.ajax({
		 url: '/ajax_module2', // 
         type:'GET',
		 data: data,
		 
        success: function (data) {
		 $module.empty();
         $(".module").html(data);
		 $module.select2(
		 {
		placeholder: "Select Module",
		allowClear: true 
		 }
		 );
        }
    });	

});
$('.year3').change(function(e){
	e.preventDefault();
	var course = document.getElementById("courseid").value;
	var semester = document.getElementById("semester").value;
	var $module = $(".module");
	var data = {
           "year": $(this).val(),
		   "course": course,
		   "semester": semester,
            };
			
		 $.ajax({
		 url: '/ajax_module3', // 
         type:'GET',
		 data: data,
		 
        success: function (data) {
		 $module.empty();
         $(".module").html(data);
		 $module.select2(
		 {
		placeholder: "Select Module",
		allowClear: true 
		 }
		 );
        }
    });	

});

$('.year4').change(function(e){
	e.preventDefault();
	var course = document.getElementById("courseid").value;
	var semester = document.getElementById("semester").value;
	var $module = $(".module");
	var data = {
           "year": $(this).val(),
		   "course": course,
		   "semester": semester,
            };
			
		 $.ajax({
		 url: '/ajax_module4', // 
         type:'GET',
		 data: data,
		 
        success: function (data) {
		 $module.empty();
         $(".module").html(data);
		 $module.select2(
		 {
		placeholder: "Select Module",
		allowClear: true 
		 }
		 );
        }
    });	

});
$('.year5').change(function(e){
	e.preventDefault();
	document.getElementById("year").value = $(this).val();
	var course = document.getElementById("courseid").value;
	var semester = document.getElementById("semester").value;
	var $module = $(".module");
	var data = {
           "year": $(this).val(),
		   "semester": semester,
            };
			
		 $.ajax({
		 url: '/ajax_module5', // 
         type:'GET',
		 data: data,
		 
        success: function (data) {
		 $module.empty();
         $(".module").html(data);
		 $module.select2(
		 {
		placeholder: "Select Module",
		allowClear: true 
		 }
		 );
        }
    });	

});


$('.ModuleChange').change(function(e){
	e.preventDefault();
	var course = document.getElementById("courseid").value;
	var year = document.getElementById("year").value;
	var $lecturer = $(".lecturerONE");
	var data = {
           "module": $(this).val(),
           "year": year,
            };
			
		 $.ajax({
		 url: '/ajax_load_lecturer', // 
         type:'GET',
		 data: data,
		 
        success: function (data) {
		 $lecturer.empty();
         $(".lecturerONE").html(data);
		 $lecturer.select2(
		 {
		placeholder: "Select Lecture",
		allowClear: true 
		 }
		 );
        }
    });	

});
$('.ModuleChange_2').change(function(e){
	e.preventDefault();
	var course = document.getElementById("courseid").value;
	var year = document.getElementById("year").value;
	var $lecturer = $(".lecturerTwo");
	var data = {
           "module": $(this).val(),
           "year": year,
            };
			
		 $.ajax({
		 url: '/ajax_load_lecturer_1', // 
         type:'GET',
		 data: data,
		 
        success: function (data) {
		 $lecturer.empty();
         $(".lecturerTwo").html(data);
		 $lecturer.select2(
		 {
		placeholder: "Select Assistance Lecture",
		allowClear: true 
		 }
		 );
        }
    });	

});
$('.moduleStatus').change(function(e){
	e.preventDefault();

	var status =$(this).val();
	
	if(status ==="Reference"){
	$('#sessionDiv').show();
	$('#AccademicDiv').show();
    $("#sessionStatus").text("Accademic Session you got the Reference");
    $("#lecturerLabel").text("Current Lecturer");
	}
	else if(status ==="I-Grade"){
	$('#sessionDiv').show();
	$('#AccademicDiv').show();
    $("#sessionStatus").text("Accademic Session you got the I-Grade");
    $("#sessionStatus2").text("Current Accademic session");
    $("#lecturerLabel").text("Current Lecturer");
	}
	else{
	$('#sessionDiv').hide();
	//$('#AccademicDiv').hide();
    $("#sessionStatus").text("Accademic Session");
	 $("#lecturerLabel").text("Lecturer");
	}
	
  
	//$("#ban_" + userId).removeAttr("checked");
    //text.style.display = "none";

});

$('#id_is_departmental').change(function(e){
	e.preventDefault();

	 var status =$(this).val();
	 var x = $('#departmentBelong');
	  if (status === 'False') {
	   //var x = document.getElementById("departmentBelong");
       x.css('display', 'block');
	 }else{
	  x.css('display', 'none');
	 }

});

$(".custom-file-input").on("change", function() {
  var fileName = $(this).val().split("\\").pop();
  $(this).siblings(".custom-file-label").addClass("selected").html(fileName);
});


    });




  function handleChange(input) {
    if (input.value < 0) input.value = 0;
    if (input.value > 100) input.value = 100;
  }




 $(document).on('click', '.volume', function (e) {
    e.preventDefault(); 
	   var onof = $(this).data('onof');
	   var data = { 
	    "onof": onof,
	   };
	  
		 $.ajax({ // 
				type:'POST',
				url: '/volume_onof',
				data: data,
				success: function(data) {
				if (data) {
					 if (onof ==="ON"){
					   $('#volume_down').show();
					   $('#volume_up').hide();
					   document.getElementById("volume_onof").value = "OFF";
					 }else{
					  $('#volume_down').hide();
					 $('#volume_up').show();
					 document.getElementById("volume_onof").value = "ON";
					  }
					  
                   
				}
				}
			});
		 
	
	   
	    
	
});	
	
	
	

        </script>
		